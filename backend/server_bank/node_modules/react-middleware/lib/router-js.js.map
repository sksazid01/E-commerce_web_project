{"version":3,"sources":["../src/router-js.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AAGA,IAAM,OAAO,SAAP,IAAO,CAAC,GAAD,EAAM,IAAN,EAAe;AAC1B,4CAA2B,IAA3B;AACA,oBAAG,MAAH,CAAU,IAAV,EAAgB,kBAAU;AACxB,QAAI,MAAJ,EAAY;AACV,UAAI,QAAJ,CAAa,IAAb;AACD,KAFD,MAEO;AACL,UAAI,MAAJ,CAAW,GAAX,EAAgB,IAAhB,CAAqB,EAAE,SAAS,4BAAX,EAArB;AACD;AACF,GAND;AAOD,CATD;;kBAYe,UAAC,UAAD,EAAgB;AAC7B,aAAW,GAAX,CAAe,KAAf,EAAsB,UAAC,GAAD,EAAM,GAAN;AAAA,WAAc,KAAK,GAAL,EAAU,SAAV,CAAd;AAAA,GAAtB;AACA,aAAW,GAAX,CAAe,gBAAf,EAAiC,UAAC,GAAD,EAAM,GAAN;AAAA,WAAc,KAAK,GAAL,aAAoB,IAAI,MAAJ,CAAW,IAA/B,SAAd;AAAA,GAAjC;AACD,C","file":"router-js.js","sourcesContent":["import fs from 'fs-extra';\nimport { BUILD_PATH } from './webpack-builder';\n\n\nconst send = (res, path) => {\n  path = `${ BUILD_PATH }/${ path }`;\n  fs.exists(path, exists => {\n    if (exists) {\n      res.sendFile(path);\n    } else {\n      res.status(404).send({ message: 'Javascript file not found.' });\n    }\n  });\n};\n\n\nexport default (middleware) => {\n  middleware.get('/js', (req, res) => send(res, 'base.js'));\n  middleware.get('/js/page/:name', (req, res) => send(res, `pages/${ req.params.name }.js`));\n};\n"]}