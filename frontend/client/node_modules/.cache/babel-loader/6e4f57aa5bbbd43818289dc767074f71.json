{"ast":null,"code":"var _jsxFileName = \"/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/views/OrderScreen/OrderScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { Component, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useEffect } from 'react';\nimport { getUserOrders } from '../../actions/orderActions';\nimport { getAllOrders, verifyAOrder, updateAdminBalance } from '../../actions/adminAction';\nimport { checkUser } from '../../utils/authUtils';\nimport { Modal } from 'react-bootstrap';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './OrderScreen.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OrderScreen() {\n  _s();\n\n  const dispatch = useDispatch();\n  const adminState = useSelector(state => state.verifyAdminReducer);\n  const {\n    loadx,\n    sucx\n  } = useSelector(state => state.verifyAOrderReducer);\n  const {\n    currentAdmin\n  } = adminState;\n  const [UIDPass, setUIDPass] = useState(\"\");\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n\n  const handleClose_withConfirm = order => {\n    // if (UIDPass != currentAdmin[0].password) {\n    //   console.log(currentAdmin[0].password, \" vs You vs \", UIDPass);\n    //   toast.error(\"Admin's Credential Doesn't Match\",\n    //     { position: toast.POSITION.TOP_CENTER, autoClose: 3000 })\n    //   setUIDPass(\"\")\n    //   setShow(false);\n    //   return;\n    // }\n    // setUIDPass(\"\")\n    console.log('Accpeted' + order._id);\n    dispatch(verifyAOrder({\n      orderid: order._id\n    }));\n    dispatch(updateAdminBalance(currentAdmin[0].email, order.orderAmount));\n    toast.success(\"Order Forwared to Supplier \" + order._id, {\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: 2000\n    });\n    setShow(false);\n  };\n\n  console.log(\"TEST \" + loadx + \" : \" + sucx);\n\n  const handleShow = () => setShow(true);\n\n  const orderstate = useSelector(state => state.getUserOrdersReducer);\n  const orderstateAdmin = useSelector(state => state.getAllOrdersReducer);\n  const logState = !!localStorage.getItem('currentAdmin');\n  var orders, error, loading;\n\n  if (logState) {\n    ({\n      orders,\n      error,\n      loading\n    } = orderstateAdmin);\n  } else {\n    ({\n      orders,\n      error,\n      loading\n    } = orderstate);\n  }\n\n  useEffect(() => {\n    if (!logState) {\n      dispatch(getUserOrders());\n      checkUser();\n    } else {\n      dispatch(getAllOrders());\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"orderScreenHolder\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      limit: 2\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css\",\n      integrity: \"sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==\",\n      crossorigin: \"anonymous\",\n      referrerpolicy: \"no-referrer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), !logState ? /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: '35px'\n      },\n      children: \"My Orders \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 12\n    }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        fontSize: '35px'\n      },\n      children: \"Check Orders \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" Loading... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 25\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \" Something went wrong... \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 23\n      }, this), orders && orders.map(order => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 pp shadow-lg p-3 mb-1 bg-white rounded\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-left w-100 m-1 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  fontSize: '25px'\n                },\n                children: \"Items\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 21\n              }, this), order.orderItems.map(item => {\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: [\" \", item.name, \"[ \", item.varient, \"*\", item.quantity, \"]= \", item.price]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 93,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 30\n                }, this);\n              })]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"vertical\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-left w-100 m-1 \",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  fontSize: '25px'\n                },\n                children: \"Customer Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\" Name :\", order.name, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: [\" \", order.shippingAddress.street, \",\", order.shippingAddress.city, \",\", order.shippingAddress.pincode, \",\", order.shippingAddress.country, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-left w-100 m-1 pp2\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                style: {\n                  fontSize: '25px'\n                },\n                children: \"Order Info\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ch1\", {\n                children: [\" Order Amount : \", order.orderAmount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ch1\", {\n                children: [\" Date : \", order.createdAt.slice(0, 10), \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"ch1\", {\n                children: [\" Transaction Id :\", order.transactionId.slice(12)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ExtendedOrder\",\n              children: [logState && order.isDelivered === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn h1 clrme\",\n                  onClick: handleShow,\n                  children: \"CONFIRM\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Modal, {\n                  show: show,\n                  className: \"modal modal_window\",\n                  children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n                    closeButton: true,\n                    onClick: handleClose,\n                    children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n                      className: \"pTname \",\n                      children: \"Order No : \" + order._id.slice(4)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 133,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n                    style: {\n                      maxHeight: 'calc(100vh - 210px)',\n                      overflowY: 'auto'\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"pAmount \",\n                      children: \"Amount Paid : \" + order.orderAmount\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 141,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                      id: \"sphr\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 142,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"pMsg \",\n                      children: \"IF You Confirm this Order  \" + \" A Supply Request will be sent to supplier with the transaction number \"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 143,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"pMsg2 \",\n                      children: [\"Also \", /*#__PURE__*/_jsxDEV(\"a\", {\n                        id: \"amountSP\",\n                        children: [\" \", order.orderAmount, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 63\n                      }, this), \" /= BDT will be \", \" Deducted From Admin's Bank Account \"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 145,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n                      id: \"sphr\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 148,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 136,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"btn-white accpet clshov\",\n                      onClick: handleClose,\n                      children: \"Close\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 161,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"btn nclshov\",\n                      onClick: () => handleClose_withConfirm(order),\n                      children: \"Proceed\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 160,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 23\n              }, this), !logState && order.isDelivered === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fixarea\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-hourglass fa-xl \",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"fixt1\",\n                  children: \"Processing\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 23\n              }, this), order.isDelivered === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fixarea\",\n                children: [logState ? /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-check fa-xl \",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 37\n                }, this) : /*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fa fa-smile-o fa-xl\",\n                  \"aria-hidden\": \"true\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 27\n                }, this), logState ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"fixit\",\n                  children: \"Supplied\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 37\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  id: \"fixit\",\n                  children: \"Products Received\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 66\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 23\n              }, this), order.isDelivered === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"fixarea\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  class: \"fas fa-cubes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 189,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Under Shipping\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 190,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 22\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(OrderScreen, \"Ex8GxFrZWj0BTF8PVlAOiKzZ5IU=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = OrderScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"OrderScreen\");","map":{"version":3,"sources":["/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/views/OrderScreen/OrderScreen.js"],"names":["React","Component","useState","useDispatch","useSelector","useEffect","getUserOrders","getAllOrders","verifyAOrder","updateAdminBalance","checkUser","Modal","ToastContainer","toast","OrderScreen","dispatch","adminState","state","verifyAdminReducer","loadx","sucx","verifyAOrderReducer","currentAdmin","UIDPass","setUIDPass","show","setShow","handleClose","handleClose_withConfirm","order","console","log","_id","orderid","email","orderAmount","success","position","POSITION","TOP_CENTER","autoClose","handleShow","orderstate","getUserOrdersReducer","orderstateAdmin","getAllOrdersReducer","logState","localStorage","getItem","orders","error","loading","fontSize","map","orderItems","item","name","varient","quantity","price","shippingAddress","street","city","pincode","country","createdAt","slice","transactionId","isDelivered","maxHeight","overflowY"],"mappings":"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","sourcesContent":["import React, { Component, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useEffect } from 'react'\nimport { getUserOrders } from '../../actions/orderActions'\nimport { getAllOrders, verifyAOrder, updateAdminBalance } from '../../actions/adminAction'\nimport { checkUser } from '../../utils/authUtils';\nimport { Modal } from 'react-bootstrap'\n\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport './OrderScreen.css'\n\nexport default function OrderScreen() {\n\n  const dispatch = useDispatch()\n  const adminState = useSelector(state => state.verifyAdminReducer)\n  const{ loadx,sucx}= useSelector(state=>state.verifyAOrderReducer);\n  const { currentAdmin } = adminState\n\n  const [UIDPass, setUIDPass] = useState(\"\")\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleClose_withConfirm = (order) => {\n    // if (UIDPass != currentAdmin[0].password) {\n    //   console.log(currentAdmin[0].password, \" vs You vs \", UIDPass);\n    //   toast.error(\"Admin's Credential Doesn't Match\",\n    //     { position: toast.POSITION.TOP_CENTER, autoClose: 3000 })\n    //   setUIDPass(\"\")\n    //   setShow(false);\n    //   return;\n    // }\n    // setUIDPass(\"\")\n    console.log('Accpeted' + order._id);\n    dispatch(verifyAOrder({ orderid: order._id }))\n    dispatch(updateAdminBalance(currentAdmin[0].email, order.orderAmount))\n    toast.success(\"Order Forwared to Supplier \" + order._id,\n      { position: toast.POSITION.TOP_CENTER, autoClose: 2000 })\n    setShow(false);\n  }\n  \n  console.log(\"TEST \"+ loadx + \" : \"+ sucx);\n\n\n  const handleShow = () => setShow(true);\n\n  const orderstate = useSelector(state => state.getUserOrdersReducer)\n  const orderstateAdmin = useSelector(state => state.getAllOrdersReducer)\n  const logState = !(!localStorage.getItem('currentAdmin'));\n  var orders, error, loading;\n\n  if (logState) { ({ orders, error, loading } = orderstateAdmin) }\n  else { ({ orders, error, loading } = orderstate) }\n\n  useEffect(() => {\n\n    if (!logState) {\n      dispatch(getUserOrders())\n      checkUser()\n    }\n    else {\n      dispatch(getAllOrders())\n    }\n\n  }, [])\n\n  return (\n    <div className='orderScreenHolder'>\n      <ToastContainer limit={2} />\n      <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css\" integrity=\"sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==\" crossorigin=\"anonymous\" referrerpolicy=\"no-referrer\" />\n\n      {\n        !logState ?\n          (<h2 style={{ fontSize: '35px' }}>My Orders </h2>) :\n          (<h2 style={{ fontSize: '35px' }}>Check Orders </h2>)\n      }\n      \n      {\n        (\n          <div className='row justify-content-center'>\n            {loading && <div> Loading... </div>}\n            {error && <div> Something went wrong... </div>}\n            {orders && orders.map(order => {\n\n              return <div className='col-md-8 pp shadow-lg p-3 mb-1 bg-white rounded'>\n\n                <div className='flex-container'>\n                  <div className=\"text-left w-100 m-1 \">\n                    <h2 style={{ fontSize: '25px' }} >Items</h2>\n                    {order.orderItems.map(item => {\n\n                      return <div>\n                        <h1> {item.name}[ {item.varient}*{item.quantity}]= {item.price}</h1>\n                      </div>\n                    })}\n\n                  </div>\n                  {/*  */}\n                  <div class=\"vertical\"></div>\n                  <div className=\"text-left w-100 m-1 \">\n                    <h2 style={{ fontSize: '25px' }} >Customer Info</h2>\n                    <h1> Name :{order.name} </h1>\n                    <h1> {order.shippingAddress.street},{order.shippingAddress.city},{order.shippingAddress.pincode},{order.shippingAddress.country} </h1>\n\n\n                  </div >\n                  {/*  */}\n                  <div className=\"text-left w-100 m-1 pp2\">\n                    <h2 style={{ fontSize: '25px' }} >Order Info</h2>\n                    <ch1> Order Amount : {order.orderAmount}</ch1>\n                    <br></br>\n                    <ch1> Date : {order.createdAt.slice(0, 10)} </ch1>\n                    <br></br>\n                    <ch1> Transaction Id :{order.transactionId.slice(12)}</ch1>\n                    <br></br>\n                    <br></br>\n                    <br></br>\n\n\n                    {/* <h1> Order Id :{ order._id}</h1> */}\n                  </div>\n                  <div className=\"ExtendedOrder\">\n                    {logState && order.isDelivered === 0 &&\n\n\n                      <div>\n\n                        <button className=\"btn h1 clrme\" onClick={handleShow}>CONFIRM</button>\n\n                        {\n                          <Modal show={show} className='modal modal_window' >\n                            <Modal.Header closeButton onClick={handleClose}>\n                              <Modal.Title className=\"pTname \">{\"Order No : \" + order._id.slice(4)}</Modal.Title>\n                            </Modal.Header>\n\n                            <Modal.Body style={{\n                              maxHeight: 'calc(100vh - 210px)',\n                              overflowY: 'auto'\n                            }}>\n\n                              <p className=\"pAmount \">{\"Amount Paid : \" + order.orderAmount}</p>\n                              <hr id='sphr'></hr>\n                              <p className=\"pMsg \">{\"IF You Confirm this Order  \" +\n                                \" A Supply Request will be sent to supplier with the transaction number \"}</p>\n                              <p className=\"pMsg2 \">{\"Also \"}{<a id=\"amountSP\"> {order.orderAmount} </a>}{\" /= BDT will be \"}{\n                                \" Deducted From Admin's Bank Account \"}</p>\n                              <hr id='sphr'></hr>\n                              <br></br>\n                              {/* <div class=\"center\">\n                                <div class=\"float-input\">\n                                  <label>Please Enter Password</label>\n                                  <input type=\"password\" placeholder=\"Enter\"\n                                    onChange={(e) => setUIDPass(e.target.value)} required\n                                  />\n                                </div>\n                              </div> */}\n\n                            </Modal.Body>\n\n                            <Modal.Footer>\n                              <div className=\"btn-white accpet clshov\" onClick={handleClose}>Close</div>\n                              <div className=\"btn nclshov\" onClick={() => handleClose_withConfirm(order)}>Proceed</div>\n\n                            </Modal.Footer>\n                          </Modal>\n                        }\n                      </div>\n                    }\n                    {\n                      !logState && order.isDelivered === 0 &&\n                      <div className='fixarea'>\n                        <i class=\"fas fa-hourglass fa-xl \" aria-hidden=\"true\"></i>\n                        <p id=\"fixt1\">Processing</p>\n                      </div>\n                    }\n                    { /*-------------------*/}\n                    {\n                      order.isDelivered === 2 &&\n                      <div className='fixarea'>\n                        {logState ? <i class=\"fa fa-check fa-xl \" aria-hidden=\"true\"></i> :\n                          <i class=\"fa fa-smile-o fa-xl\" aria-hidden=\"true\"></i>}\n                        {logState ? <p id=\"fixit\">Supplied</p> : <p id=\"fixit\">Products Received</p>}\n\n                      </div>\n                    }\n                    {\n                      order.isDelivered === 1 &&\n                      <div className='fixarea'>\n                        <i class=\"fas fa-cubes\"></i>\n                        <p>Under Shipping</p>\n\n                      </div>\n                    }\n\n                  </div>\n                </div>\n              </div>\n\n            })\n            }\n          </div>)\n      }\n\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}