{"ast":null,"code":"var _jsxFileName = \"/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/components/Checkout/Checkout.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport StripeCheckout from 'react-stripe-checkout';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { placeOrder } from '../../actions/orderActions';\nimport { updateBalance } from '../../actions/adminAction';\nimport './Checkout.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Checkout(_ref) {\n  _s();\n\n  let {\n    subtotal\n  } = _ref;\n  const dispatch = useDispatch();\n  const orderState = useSelector(state => state.placeOrderReducer);\n  const userState = useSelector(state => state.loginUserReducer);\n  const {\n    currentUser\n  } = userState;\n  const {\n    loading,\n    error,\n    success\n  } = orderState;\n\n  function tokenHander(token) {\n    console.log(token);\n    dispatch(placeOrder(token, subtotal));\n    dispatch(updateBalance(currentUser.email, subtotal, token));\n    {\n      console.log(\"EFFECT \", loading);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"load\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 22\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"success-animation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-checkmark\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"check-icon\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon-line line-tip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"icon-line line-long\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"icon-fix\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"success-text\",\n          children: \"Payment Successful!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [console.log(\" return \", loading), !success && !loading && /*#__PURE__*/_jsxDEV(StripeCheckout, {\n        amount: subtotal * 100,\n        shippingAddress: true,\n        token: tokenHander,\n        currency: \"BDT\",\n        stripeKey: \"pk_test_51LJdoPD9PVEyJI4UvvDlPGKKTlwUQOYffUqygRZU8snRITH4WQoCGQwsZWEdubhMNfxplKJAlBN4Mdg6BfBMzk0g00ADD0ottW\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn_checkout\",\n          children: \"Pay Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 12\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Checkout, \"J1igNC7OGK63qghL60RVKI8Y0dU=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/components/Checkout/Checkout.js"],"names":["React","StripeCheckout","useDispatch","useSelector","placeOrder","updateBalance","Checkout","subtotal","dispatch","orderState","state","placeOrderReducer","userState","loginUserReducer","currentUser","loading","error","success","tokenHander","token","console","log","email"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAASC,WAAT,EAAqBC,WAArB,QAAwC,aAAxC;AAEA,SAASC,UAAT,QAA2B,4BAA3B;AACA,SAAQC,aAAR,QAA4B,2BAA5B;AAEA,OAAO,gBAAP;;AACA,eAAe,SAASC,QAAT,OAA8B;AAAA;;AAAA,MAAZ;AAACC,IAAAA;AAAD,GAAY;AAE3C,QAAMC,QAAQ,GAAEN,WAAW,EAA3B;AAEA,QAAMO,UAAU,GAAEN,WAAW,CAAEO,KAAD,IAAUA,KAAK,CAACC,iBAAjB,CAA7B;AACA,QAAMC,SAAS,GAAGT,WAAW,CAACO,KAAK,IAAEA,KAAK,CAACG,gBAAd,CAA7B;AAEA,QAAM;AAACC,IAAAA;AAAD,MAAeF,SAArB;AACA,QAAM;AAACG,IAAAA,OAAD;AAASC,IAAAA,KAAT;AAAeC,IAAAA;AAAf,MAAwBR,UAA9B;;AACA,WAASS,WAAT,CAAqBC,KAArB,EAA4B;AAC1BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAX,IAAAA,QAAQ,CAACJ,UAAU,CAACe,KAAD,EAAOZ,QAAP,CAAX,CAAR;AACAC,IAAAA,QAAQ,CAACH,aAAa,CAACS,WAAW,CAACQ,KAAb,EAAmBf,QAAnB,EAA4BY,KAA5B,CAAd,CAAR;AACA;AAACC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBN,OAAvB;AAAgC;AAElC;;AACD,sBAEE;AAAA,eACKA,OAAO,iBAAK;AAAK,MAAA,KAAK,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,YADjB,EAEOE,OAAO,iBACZ;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,mBAAf;AAAA,iCACE;AAAK,YAAA,SAAS,EAAC,YAAf;AAAA,oCACE;AAAM,cAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAM,cAAA,SAAS,EAAC;AAAhB;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAHF,eAIE;AAAK,cAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,oBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eASE;AAAK,UAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAHF,eAiBA;AAAA,iBAEMG,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBN,OAAxB,CAFN,EAKK,CAACE,OAAD,IAAY,CAACF,OAAb,iBACD,QAAC,cAAD;AAEC,QAAA,MAAM,EAAER,QAAQ,GAAC,GAFlB;AAGC,QAAA,eAAe,MAHhB;AAIC,QAAA,KAAK,EAAEW,WAJR;AAKC,QAAA,QAAQ,EAAC,KALV;AAMC,QAAA,SAAS,EAAC,6GANX;AAAA,+BASG;AAAQ,UAAA,SAAS,EAAC,cAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AATH;AAAA;AAAA;AAAA;AAAA,cANJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAjBA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAyCD;;GAzDuBZ,Q;UAENJ,W,EAEEC,W,EACAA,W;;;KALIG,Q","sourcesContent":["import React from 'react'\nimport StripeCheckout from 'react-stripe-checkout'\nimport { useDispatch,useSelector } from 'react-redux';\n\nimport { placeOrder } from '../../actions/orderActions';\nimport {updateBalance} from '../../actions/adminAction';\n\nimport './Checkout.css'\nexport default function Checkout({subtotal}) {\n\n  const dispatch= useDispatch();\n\n  const orderState= useSelector((state)=> state.placeOrderReducer)\n  const userState = useSelector(state=>state.loginUserReducer)\n\n  const {currentUser}= userState\n  const {loading,error,success}=orderState;\n  function tokenHander(token) {\n    console.log(token)\n    dispatch(placeOrder(token,subtotal))\n    dispatch(updateBalance(currentUser.email,subtotal,token))\n    {console.log(\"EFFECT \" ,loading)}\n\n  }\n  return (\n\n    <div>\n      {  loading && (<div class=\"load\"></div>)  }\n        {  success && (\n      <div className=\"success-container\">  \n        <div className=\"success-animation\">\n          <div className=\"success-checkmark\">\n            <div className=\"check-icon\">\n              <span className=\"icon-line line-tip\"></span>\n              <span className=\"icon-line line-long\"></span>\n              <div className=\"icon-circle\"></div>\n              <div className=\"icon-fix\"></div>\n            </div>\n          </div>\n          <div className=\"success-text\">Payment Successful!</div>\n        </div>\n      </div>\n    )}\n    <div>\n\n        { console.log(\" return \" ,loading) }\n        \n         {\n         !success && !loading &&\n        <StripeCheckout\n\n         amount={subtotal*100}\n         shippingAddress\n         token={tokenHander}\n         currency='BDT'\n         stripeKey='pk_test_51LJdoPD9PVEyJI4UvvDlPGKKTlwUQOYffUqygRZU8snRITH4WQoCGQwsZWEdubhMNfxplKJAlBN4Mdg6BfBMzk0g00ADD0ottW'\n\n        >\n           <button className='btn_checkout'>Pay Now</button> \n        </StripeCheckout>\n        }\n   \n    </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}