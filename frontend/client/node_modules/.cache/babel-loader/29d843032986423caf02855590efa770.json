{"ast":null,"code":"var _jsxFileName = \"/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/views/Homescreen.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllProducts } from '../actions/productAction';\nimport Product from '../components/SingleProduct/Product';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AdminLogin from './Admin/AdminLogin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Homescreen() {\n  _s();\n\n  const dispatch = useDispatch();\n  const productState = useSelector(state => state.getAllProductsReducer);\n  const {\n    products,\n    error,\n    loading\n  } = productState;\n  const logState = !!localStorage.getItem('currentAdmin');\n  useEffect(() => {\n    if (!logState) {\n      dispatch(getAllProducts());\n      checkUser();\n    }\n  }, []); //  console.log(logState)\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"   \", /*#__PURE__*/_jsxDEV(ToastContainer, {\n      limit: 1\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center homescreenContainer\",\n      children: logState ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              id: \"noItemsinCart\",\n              children: \"Welcome ,You are Logged in as an Administrator\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              id: \"noItemsinCart2\",\n              children: [\"Visit \", /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/orders\",\n                children: \"Orders\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 36,\n                columnNumber: 49\n              }, this), \" to Verify and Forward Orders to Suppliers \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 12\n      }, this) : loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"load_hold\",\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"dots-bars-3\",\n          children: \"  \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 24\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"html_h1\", {\n        children: \"Wrong\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 22\n      }, this) : products.map(product => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-3 m-3 \",\n          children: /*#__PURE__*/_jsxDEV(Product, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 17\n          }, this)\n        }, product._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 22\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 29,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Homescreen, \"7vzBbpVtILyQIqQkRvM12YOAiyc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = Homescreen;\nexport const notify = (callId, msg, timex) => {\n  if (callId === 'noUser') {\n    return toast.error(msg, {\n      position: toast.POSITION.TOP_CENTER,\n      autoClose: timex\n    });\n  }\n\n  if (callId === 'redirect') {\n    return toast.info(msg, {\n      position: toast.POSITION.TOP_RIGHT,\n      autoClose: timex\n    });\n  }\n};\nexport const checkUser = () => {\n  _s2();\n\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    if (!localStorage.getItem('currentUser')) {\n      setLoading(false);\n      notify('noUser', \"Please Login First\", 1000);\n      notify('redirect', \"You will be redirected to Login Page\", 2000);\n      setTimeout(() => window.location.href = '/login', 6000);\n    } else {\n      setLoading(false);\n    }\n  }, []);\n  return loading;\n};\n\n_s2(checkUser, \"J7PPXooW06IQ11rfabbvgk72KFw=\");\n\nexport const checkLoggedAsAdmin = () => {\n  if (localStorage.getItem('currentAdmin')) {\n    setTimeout(() => window.location.href = '/', 3000);\n    notify('noUser', \"You are logged in as admin\", 2000);\n  }\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"Homescreen\");","map":{"version":3,"sources":["/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/views/Homescreen.js"],"names":["React","useState","useEffect","useDispatch","useSelector","getAllProducts","Product","ToastContainer","toast","AdminLogin","Homescreen","dispatch","productState","state","getAllProductsReducer","products","error","loading","logState","localStorage","getItem","checkUser","map","product","_id","notify","callId","msg","timex","position","POSITION","TOP_CENTER","autoClose","info","TOP_RIGHT","setLoading","setTimeout","window","location","href","checkLoggedAsAdmin"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {useDispatch,useSelector} from 'react-redux'\nimport {getAllProducts} from '../actions/productAction'\nimport Product from '../components/SingleProduct/Product'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport AdminLogin from './Admin/AdminLogin';\n\nexport default function Homescreen() {\n\n  const dispatch=useDispatch()\n\n  const productState= useSelector( state=>state.getAllProductsReducer)\n  const { products, error, loading }= productState;\n  \n  const logState=!(!localStorage.getItem('currentAdmin'));\n  \n  useEffect(() => {\n\n    if (!logState){\n      \n       dispatch(getAllProducts())\n       checkUser()\n    }\n}, [])\n  //  console.log(logState)\n \n  return (\n    <div>   <ToastContainer limit={1} />\n        <div className='row justify-content-center homescreenContainer'>\n\n        { logState ? \n          (<div><p>  \n                <div> \n                  <h3 id='noItemsinCart'>Welcome ,You are Logged in as an Administrator</h3> \n                  <h3 id='noItemsinCart2'>Visit <a href= '/orders' >Orders</a> to Verify and Forward Orders to Suppliers </h3> \n                </div>  \n           </p></div> ): \n        \n          ( loading ? (<div class=\"load_hold\"> <div class=\"dots-bars-3\">  </div></div>): \n            error ? (<html_h1>Wrong</html_h1>):\n            (\n              products.map(product => {\n              return <div  className='col-md-3 m-3 'key={product._id}>\n                <Product product={product} />\n              </div>\n            })\n            )\n          )\n        \n        }\n        </div>\n    </div>\n  )\n}\nexport const notify = (callId,msg,timex) => {\n\n  if(callId==='noUser'){return toast.error(msg, {position: toast.POSITION.TOP_CENTER,autoClose:timex})}\n  if(callId==='redirect'){return toast.info(msg, {position: toast.POSITION.TOP_RIGHT,autoClose:timex})}\n}\nexport const checkUser=()=>{\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    if (!localStorage.getItem('currentUser')){\n      setLoading(false);\n      notify('noUser',\"Please Login First\",1000);\n      notify('redirect',\"You will be redirected to Login Page\",2000);\n      setTimeout(() => window.location.href='/login', 6000);\n    } else {\n      setLoading(false);\n    }\n  }, []);\n\n  return loading;\n}\n\nexport const checkLoggedAsAdmin=()=>{\n\n  if (localStorage.getItem('currentAdmin')){\n  \n    setTimeout(() =>   window.location.href='/', 3000);\n    notify('noUser',\"You are logged in as admin\",2000)\n\n  }\n}\n"]},"metadata":{},"sourceType":"module"}