{"ast":null,"code":"var _jsxFileName = \"/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/views/CartScreen.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { addToCart, deleteFromCart } from '../actions/cartActions';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { checkUser } from '../utils/authUtils';\nimport Checkout from '../components/Checkout/Checkout';\nimport './CartScreen.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CartScreen() {\n  _s();\n\n  checkUser();\n  const dispatch = useDispatch();\n  const cartState = useSelector(state => state.cartReducer);\n  const cartItems = cartState.cartItems;\n  const subtotal = cartItems.reduce((x, item) => x + item.price, 0);\n\n  const notify = (callId, msg) => {\n    toast.clearWaitingQueue({\n      containerId: 'default'\n    });\n\n    if (callId === 'limit') {\n      return toast.info(msg, {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 1000\n      });\n    }\n\n    if (callId === 'success') {\n      return toast.success(msg, {\n        position: toast.POSITION.TOP_CENTER,\n        autoClose: 2000\n      });\n    }\n  };\n\n  function increaseCount(item) {\n    if (item.quantity === 20) return notify('limit', \"We deliver maximum of 20 quantities\");\n    dispatch(addToCart(item, Math.min(item.quantity + 1, 20), item.varient));\n  }\n\n  function decreaseCount(item) {\n    if (item.quantity === 1) return notify('limit', \"Can't Order Less than 1 quantities\");\n    dispatch(addToCart(item, Math.max(item.quantity - 1, 1), item.varient));\n  }\n\n  function removeItemCart(item) {\n    dispatch(deleteFromCart(item));\n  }\n\n  function clearCart() {\n    cartItems.forEach(item => {\n      dispatch(deleteFromCart(item));\n    });\n    notify('success', 'Payment successful! Your cart has been cleared.');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"cart-screen\",\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {\n      limit: 1,\n      containerId: \"default\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"back-button\",\n          onClick: () => window.location.replace('/'),\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-arrow-left\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Continue Shopping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-cart\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-shopping-cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Browse our products and discover our best deals!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"shop-now-btn\",\n          children: \"Shop Now\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-items\",\n          children: cartItems.map(item => {\n            const defaultPrice = JSON.stringify(item.prices[0]).split(',')[0].split(':')[1];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-image\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  alt: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 85,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"remove-btn\",\n                    onClick: () => removeItemCart(item),\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-times\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 87,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 86,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 84,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"item-variant\",\n                  children: [\"Manufacturer: \", item.varient !== \"null\" ? item.varient : item.varients[0]]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"quantity-controls\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"qty-btn\",\n                    onClick: () => decreaseCount(item),\n                    disabled: item.quantity === 1,\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-minus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 102,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 97,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"quantity\",\n                    children: item.quantity\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"qty-btn\",\n                    onClick: () => increaseCount(item),\n                    disabled: item.quantity === 20,\n                    children: /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-plus\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 110,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"price-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"unit-price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Unit Price:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\u09F3\", item.varient !== \"null\" ? item.prices[0][item.varient] : defaultPrice]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"quantity-price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Quantity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 122,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\xD7 \", item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"total-price\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"Total:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: [\"\\u09F3\", JSON.stringify(item.price) !== 'null' ? item.price : defaultPrice * item.quantity]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this)]\n            }, item.name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-summary\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Subtotal:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [\"\\u09F3\", subtotal]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Checkout, {\n            subtotal: subtotal,\n            onPaymentSuccess: clearCart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CartScreen, \"q8RITwToxXNDLABQ2g5tdqmB7Bc=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c = CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["/home/sk-sazid/Downloads/466-ECommerce-main (2)/frontend/client/src/views/CartScreen.js"],"names":["React","useSelector","useDispatch","addToCart","deleteFromCart","ToastContainer","toast","checkUser","Checkout","CartScreen","dispatch","cartState","state","cartReducer","cartItems","subtotal","reduce","x","item","price","notify","callId","msg","clearWaitingQueue","containerId","info","position","POSITION","TOP_CENTER","autoClose","success","increaseCount","quantity","Math","min","varient","decreaseCount","max","removeItemCart","clearCart","forEach","window","location","replace","length","map","defaultPrice","JSON","stringify","prices","split","image","name","varients"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { addToCart, deleteFromCart } from '../actions/cartActions'\nimport { ToastContainer, toast } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport { checkUser } from '../utils/authUtils'\nimport Checkout from '../components/Checkout/Checkout'\nimport './CartScreen.css'\n\nexport default function CartScreen() {\n  checkUser()\n  const dispatch = useDispatch()\n  const cartState = useSelector(state => state.cartReducer)\n  const cartItems = cartState.cartItems\n  const subtotal = cartItems.reduce((x, item) => x + item.price, 0)\n\n  const notify = (callId, msg) => {\n    toast.clearWaitingQueue({ containerId: 'default' })\n    if (callId === 'limit') {\n      return toast.info(msg, { position: toast.POSITION.TOP_CENTER, autoClose: 1000 })\n    }\n    if (callId === 'success') {\n      return toast.success(msg, { position: toast.POSITION.TOP_CENTER, autoClose: 2000 })\n    }\n  }\n\n  function increaseCount(item) {\n    if (item.quantity === 20) \n      return notify('limit', \"We deliver maximum of 20 quantities\")\n    dispatch(addToCart(item, Math.min(item.quantity + 1, 20), item.varient))\n  }\n\n  function decreaseCount(item) {\n    if (item.quantity === 1) \n      return notify('limit', \"Can't Order Less than 1 quantities\")\n    dispatch(addToCart(item, Math.max(item.quantity - 1, 1), item.varient))\n  }\n\n  function removeItemCart(item) {\n    dispatch(deleteFromCart(item))\n  }\n\n  function clearCart() {\n    cartItems.forEach(item => {\n      dispatch(deleteFromCart(item))\n    })\n    notify('success', 'Payment successful! Your cart has been cleared.')\n  }\n\n  return (\n    <div className='cart-screen'>\n      <ToastContainer limit={1} containerId=\"default\" />\n      \n      <div className='cart-container'>\n        <div className='cart-header'>\n          <button className='back-button' onClick={() => window.location.replace('/')}>\n            <i className='fas fa-arrow-left'></i>\n            <span>Continue Shopping</span>\n          </button>\n          <h1>Shopping Cart</h1>\n        </div>\n\n        {cartItems.length === 0 ? (\n          <div className='empty-cart'>\n            <i className='fas fa-shopping-cart'></i>\n            <h2>Your cart is empty</h2>\n            <p>Browse our products and discover our best deals!</p>\n            <a href='/' className='shop-now-btn'>Shop Now</a>\n          </div>\n        ) : (\n          <>\n            <div className='cart-items'>\n              {cartItems.map(item => {\n                const defaultPrice = JSON.stringify(item.prices[0]).split(',')[0].split(':')[1]\n                return (\n                  <div className='cart-item' key={item.name}>\n                    {/* Left Section - Image */}\n                    <div className='item-image'>\n                      <img src={item.image} alt={item.name} />\n                    </div>\n                    \n                    {/* Middle Section - Details */}\n                    <div className='item-info'>\n                      <div className='item-header'>\n                        <h3>{item.name}</h3>\n                        <button className='remove-btn' onClick={() => removeItemCart(item)}>\n                          <i className='fas fa-times'></i>\n                        </button>\n                      </div>\n                      \n                      <p className='item-variant'>\n                        Manufacturer: {item.varient !== \"null\" ? item.varient : item.varients[0]}\n                      </p>\n                      \n                      {/* Quantity Controls */}\n                      <div className='quantity-controls'>\n                        <button \n                          className='qty-btn' \n                          onClick={() => decreaseCount(item)}\n                          disabled={item.quantity === 1}\n                        >\n                          <i className='fas fa-minus'></i>\n                        </button>\n                        <span className='quantity'>{item.quantity}</span>\n                        <button \n                          className='qty-btn'\n                          onClick={() => increaseCount(item)}\n                          disabled={item.quantity === 20}\n                        >\n                          <i className='fas fa-plus'></i>\n                        </button>\n                      </div>\n                    </div>\n                    \n                    {/* Right Section - Price */}\n                    <div className='price-info'>\n                      <div className='unit-price'>\n                        <span>Unit Price:</span>\n                        <span>৳{item.varient !== \"null\" ? item.prices[0][item.varient] : defaultPrice}</span>\n                      </div>\n                      <div className='quantity-price'>\n                        <span>Quantity:</span>\n                        <span>× {item.quantity}</span>\n                      </div>\n                      <div className='total-price'>\n                        <span>Total:</span>\n                        <span>৳{JSON.stringify(item.price) !== 'null' ? \n                          item.price : defaultPrice * item.quantity}</span>\n                      </div>\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n\n            <div className='cart-summary'>\n              <div className='summary-row'>\n                <span>Subtotal:</span>\n                <span>৳{subtotal}</span>\n              </div>\n              <Checkout subtotal={subtotal} onPaymentSuccess={clearCart} />\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}